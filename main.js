(()=>{const e=document.querySelector('[data-menu="menu"]'),t=document.querySelector(".menu-links");e.addEventListener("click",(function(e){t.classList.toggle("ativo")})),document.addEventListener("click",(function(n){t.contains(n.target)||n.target===e||t.classList.remove("ativo")}));const n=document.querySelector(".search-icon"),s=document.querySelector("#search-mobile"),o=document.querySelector(".font-1-logo");n.addEventListener("click",(e=>{n.classList.add("active"),s.classList.add("active"),s.focus(),window.innerWidth<=767&&(o.style.display="none")})),s.addEventListener("focusout",(()=>{n.classList.remove("active"),s.classList.remove("active"),o.style.display="block"})),function(){const e=document.querySelector("#search"),t=document.querySelector("#search-mobile"),n=document.querySelector("#search-btn");function s(t){console.log(t),"keyup"===t.type&&(0!==e.value.length?n.classList.add("ativo"):n.classList.remove("ativo")),("Enter"===t.code||"click"===t.type&&0!==e.value.length)&&(window.location.href=window.location.origin+"/search.html?q="+e.value),"Enter"===t.code||"click"===t.type&&0===e.value.length?(e.classList.add("invalido"),console.log(e.classList)):e.classList.remove("invalido")}e.addEventListener("keyup",s),t.addEventListener("keyup",(function(e){"Enter"===e.code&&0!==t.value.length&&(window.location.href=window.location.origin+"/search.html?q="+t.value),"Enter"===e.code&&0===t.value.length&&t.classList.add("invalido")})),n.addEventListener("click",s)}(),"/"===window.location.pathname&&async function(){const e=document.querySelector("div.grid-latest"),t=document.querySelector("div.grid-recent"),n=await fetch("https://gogoanime.consumet.org/recent-release?page=1"),s=await n.json(),o=await fetch("https://gogoanime.consumet.org/popular"),i=await o.json();s.map(((t,n)=>{if(n<10){const n=document.createElement("a");n.setAttribute("href","./anime.html?anime="+t.animeTitle),n.classList.add("anime-item"),n.innerHTML=`\n      <div class="cover">\n      <span class="episode font-2-mr">Episódio ${t.episodeNum}</span>\n      <img src="${t.animeImg}" alt="${t.animeTitle}" />\n      </div>\n      <span class="anime-title font-1-m">${t.animeTitle}</span>\n      `,e.append(n),document.querySelector(".lds-ellipsis")&&document.querySelector(".lds-ellipsis").remove()}})),i.map(((e,n)=>{if(n<6){const n=document.createElement("a");n.setAttribute("href","./anime.html?anime="+e.animeTitle),n.classList.add("anime-item"),n.innerHTML=`\n      <div class="cover">\n      \n      <img src="${e.animeImg}" alt="${e.animeTitle}" />\n      </div>\n      <span class="anime-title font-1-m">${e.animeTitle}</span>\n      `,t.append(n),document.querySelector(".lds-ellipsis")&&document.querySelector(".lds-ellipsis").remove()}})),t.style.cssText="display:grid",e.style.cssText="display:grid"}(),window.location.pathname.includes("anime.html")&&async function(){const e=await async function(){const e=window.location.search,t=new URLSearchParams(e).get("anime");try{const e=`https://gogoanime.consumet.org/search?keyw=${t}`,n=await fetch(e),s=`https://gogoanime.consumet.org/anime-details/${(await n.json())[0].animeId}`,o=await fetch(s);return await o.json()}catch(e){window.location.href=window.location.origin+"/404.html"}}(),t=await async function(){const e=window.location.search,t=`https://kitsu.io/api/edge/anime?filter[text]=${new URLSearchParams(e).get("anime")}`,n=await fetch(t);return await n.json()}(),n=document.querySelector("#anime-single .video h1"),s=document.querySelector(".sinopse-content li.episodes"),o=document.querySelector(".sinopse-content li.status"),i=document.querySelector(".sinopse-content li.genero"),a=document.querySelector(".sinopse-img"),c=document.querySelector(".sinopse-paragraph-content"),l=document.querySelector(".video-embed"),r="Completed"===e.status?"Completo":"Lançando";n.classList.remove("skeleton"),n.innerText=`${e.animeTitle} (${e.releasedDate})`,s.innerHTML=`<span class="info">Duração: </span><span class="info-content">${e.episodesList.length} Episódios.</span>`,o.innerHTML=`<span class="info">Status: </span><span class="info-content">${r}.</span>`,i.innerHTML=`<span class="info">Gêneros: </span><span class="info-content">${e.genres.slice(0,3).join(", ")}.</span>`,c.classList.remove("skeleton"),c.innerText=`${e.synopsis}`;const m=document.createElement("img");m.src=e.animeImg,m.alt=e.animeTitle,a.classList.remove("skeleton"),a.append(m);const d=`<iframe src="https://www.youtube.com/embed/${t.data[0].attributes.youtubeVideoId}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;l.outerHTML=d}(),window.location.pathname.includes("search.html")&&async function(){const e=new URLSearchParams(window.location.search),t="https://gogoanime.consumet.org/search?keyw="+e.get("q"),n=await fetch(t),s=await n.json(),o=document.querySelector(".font-1-xl.search-query");for(result of(o.innerText=e.get("q"),document.querySelector(".search-results").replaceChildren(),console.log(s),s)){const e=document.createElement("li");e.setAttribute("class","result-item"),e.innerHTML=`\n    <a href="${window.location.origin}/anime.html?anime=${result.animeId}">\n    <div class="sinopse-img skeleton"></div>\n    <div class="result-container">\n    <h3 class="skeleton font-1-m">${result.animeTitle}</h3>\n    <p class="skeleton font-1-m">${result.status}</p>\n    </div>\n    </a>\n    `;const t=document.createElement("img");t.src=result.animeImg,t.alt=result.animeTitle,e.querySelector(".sinopse-img").classList.remove("skeleton"),e.querySelector(".sinopse-img").append(t),document.querySelector(".search-results").append(e)}}()})();