(()=>{const e=document.querySelector('[data-menu="menu"]'),t=document.querySelector(".menu-links");e.addEventListener("click",(function(e){t.classList.toggle("ativo")})),document.addEventListener("click",(function(n){t.contains(n.target)||n.target===e||t.classList.remove("ativo")}));const n=document.querySelector(".search-icon"),i=document.querySelector("#search-mobile"),a=document.querySelector(".font-1-logo");n.addEventListener("click",(e=>{n.classList.add("active"),i.classList.add("active"),i.focus(),window.innerWidth<=767&&(a.style.display="none")})),i.addEventListener("focusout",(()=>{n.classList.remove("active"),i.classList.remove("active"),a.style.display="block"})),function(){const e=document.querySelector("#search"),t=document.querySelector("#search-mobile"),n=document.querySelector("#search-btn");function i(t){console.log(t),"keyup"===t.type&&(0!==e.value.length?n.classList.add("ativo"):n.classList.remove("ativo")),("Enter"===t.code||"click"===t.type&&0!==e.value.length)&&(window.location.href=window.location.origin+"/anime.html?anime="+e.value),"Enter"===t.code||"click"===t.type&&0===e.value.length?(e.classList.add("invalido"),console.log(e.classList)):e.classList.remove("invalido")}e.addEventListener("keyup",i),t.addEventListener("keyup",(function(e){"Enter"===e.code&&0!==t.value.length&&(window.location.href=window.location.origin+"/anime.html?anime="+t.value),"Enter"===e.code&&0===t.value.length&&t.classList.add("invalido")})),n.addEventListener("click",i)}(),"/"===window.location.pathname&&async function(){const e=document.querySelector("div.grid-latest"),t=document.querySelector("div.grid-recent"),n=await fetch("https://gogoanime.consumet.org/recent-release?page=1"),i=await n.json(),a=await fetch("https://gogoanime.consumet.org/popular"),o=await a.json();i.map(((t,n)=>{if(n<10){const n=document.createElement("a");n.setAttribute("href","./anime.html?anime="+t.animeTitle),n.classList.add("anime-item"),n.innerHTML=`\n      <div class="cover">\n      <span class="episode font-2-mr">Episódio ${t.episodeNum}</span>\n      <img src="${t.animeImg}" alt="${t.animeTitle}" />\n      </div>\n      <span class="anime-title font-1-m">${t.animeTitle}</span>\n      `,e.append(n),document.querySelector(".lds-ellipsis")&&document.querySelector(".lds-ellipsis").remove()}})),o.map(((e,n)=>{if(n<6){const n=document.createElement("a");n.setAttribute("href","./anime.html?anime="+e.animeTitle),n.classList.add("anime-item"),n.innerHTML=`\n      <div class="cover">\n      \n      <img src="${e.animeImg}" alt="${e.animeTitle}" />\n      </div>\n      <span class="anime-title font-1-m">${e.animeTitle}</span>\n      `,t.append(n),document.querySelector(".lds-ellipsis")&&document.querySelector(".lds-ellipsis").remove()}})),t.style.cssText="display:grid",e.style.cssText="display:grid"}(),window.location.pathname.includes("anime.html")&&async function(){const e=await async function(){const e=window.location.search,t=new URLSearchParams(e).get("anime");try{const e=`https://gogoanime.consumet.org/search?keyw=${t}`,n=await fetch(e),i=`https://gogoanime.consumet.org/anime-details/${(await n.json())[0].animeId}`,a=await fetch(i);return await a.json()}catch(e){window.location.href=window.location.origin+"/404.html"}}(),t=await async function(){const e=window.location.search,t=`https://kitsu.io/api/edge/anime?filter[text]=${new URLSearchParams(e).get("anime")}`,n=await fetch(t);return await n.json()}(),n=document.querySelector("#anime-single .video h1"),i=document.querySelector(".sinopse-content li.episodes"),a=document.querySelector(".sinopse-content li.status"),o=document.querySelector(".sinopse-content li.genero"),s=document.querySelector(".sinopse-img"),c=document.querySelector(".sinopse-paragraph-content"),l=document.querySelector(".video-embed"),r="Completed"===e.status?"Completo":"Lançando";n.classList.remove("skeleton"),n.innerText=`${e.animeTitle} (${e.releasedDate})`,i.innerHTML=`<span class="info">Duração: </span><span class="info-content">${e.episodesList.length} Episódios.</span>`,a.innerHTML=`<span class="info">Status: </span><span class="info-content">${r}.</span>`,o.innerHTML=`<span class="info">Gêneros: </span><span class="info-content">${e.genres.slice(0,3).join(", ")}.</span>`,c.classList.remove("skeleton"),c.innerText=`${e.synopsis}`;const d=document.createElement("img");d.src=e.animeImg,d.alt=e.animeTitle,s.classList.remove("skeleton"),s.append(d);const m=`<iframe src="https://www.youtube.com/embed/${t.data[0].attributes.youtubeVideoId}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;l.outerHTML=m}()})();